# Легенда инженера по сопровождению ПО к собеседованию, работающего в отделе мониторинга

1. В первом приближении в самом начале репозитория `linux-monitoring` с данным разделом (легенда) знакомимся поверхностно, чтобы понять объемы и масштабы обучения, но при этом стараемся сразу выучить легенду, чтобы она хорошо отложилась для будущих собеседований.
2. Во втором приближении после полного завершения данного репозитория `linux-monitoring` начинаем полностью учить все вопросы из данного раздела (легенда):
   - Общие вопросы, разбиение собеседования на последовательные этапы и вопросы работодателя - [полностью учим здесь](https://teletype.in/@lamjob/Snr36e1QIdh) во втором приближении после прохождения практики и теории всего репозитория `linux-monitoring`

---

_Учим не досконально, а поэтапно, не нужно зацикливаться на всех вопросах и темах._

_На первых этапах у вас должно быть чёткое понимание каждого инструмента по вашему стеку, зачем он нужен и что из себя представляет._

_При этом если в стеке указан Teamcity или Nginx - это не значит, что вы должны знать, как он работает полностью технически и досконально, нужно подстраиваться под каждый вопрос и говорить о том, что Teamcity вы использовали совместно с администраторами для выкатки релизов, настраивали балансировку Nginx по алгоритму round-robin, вы только правили конфиг к примеру и всё, этого будет достаточно - и так с каждым инструментом и вопросом._

_На собеседовании мы не говорим об указанном стеке в резюме, что мы с ним не работали, мы говорим по алгоритму указанному выше - то есть мы всегда всё знаем, мы всегда работали, мы выкатывали, пусть даже поверхностно, но в составе разработчиков, DevOps или администраторов, ведь это тоже хороший опыт и за него платят._

---

### 1. **Общая информация о работе и отделе**
Я работаю инженером по сопровождению ПО в отделе мониторинга. Наш отдел отвечает за обеспечение стабильной работы критически важных сервисов компании, а также за своевременное выявление и устранение инцидентов. Мы активно используем современные инструменты для мониторинга, автоматизации и управления инфраструктурой. В нашем стеке используются:
Здесь идёт перечисление инструментов и ПО из раздела по стеку ниже - перечисляем обязательно основные инструменты, чтобы собеседующие поняли, что вы с этими инструментами работаете повседневно.

**Моя основная задача** — поддерживать работоспособность всех систем (дебаг сервисов и кредитного конвейера), разрабатывать мониторинг (дашборды + установка экспортеров), решать возникающие инциденты, внедрять релизы (об этом будет ниже), следить за качеством работы серверов и приложений (ежедневная аналитика мониторинга), решать заявки клиентов банка по кредитному конвейеру.

**Наш проект** — и кратко, но ёмко пересказываем основы кредитного конвейера из [раздела легенды K8s](https://github.com/lamjob1993/kubernetes-monitoring/tree/main/kubernetes/legend).

**Вот и закончен ваш основной рассказ. Если будут спрашивать глубже, то более раскрыто по отделу представлено ниже.**

---

**В нашем отделе работают:**
- Всего x10 человек исполнителей + x2 руководителя = x12:
   - Тимлид (архитектор) и продакт (основной руководитель проекта по сопровождению)
- x2 DevOps инженера на уровне middle
- x1 Senior Java-разработчик
- x1 Middle Java-разработчик
- x3 Middle инженера по мониторингу
- x3 Junior инженера по сопровождению

_Если будут спрашивать на собеседовании о каких-то сложных кейсах и задачах, и если вы не знаете как отвечать, то можно ссылаться на команду, на мидлов и сениоров, что сложные задачи решали совместно с ними (с DevOps или с более старшими по рангу, либо вообще спрашивали советы у тимлида - и это нормально)._

"В моей текущей роли я тесно взаимодействую с командой администраторов Linux (CentOS/Debian). Мы совместно решаем задачи по обновлению ОС и внедрениям. Например, недавно мы автоматизировали процесс обновления критических пакетов через Ansible, что позволило сократить время обслуживания серверов на 40%."

"Ежедневно работаю с разработчиками над решением инцидентов в production. Через CI/CD-пайплайны TeamCity мы внедряем новые релизы. Важным аспектом является анализ медленных запросов к PostgreSQL - совместно оптимизируем запросы и индексы (идексы нужны для оптимизации запросов, вкратце с вами пробежимся по индексам на курсе). Также регулярно проводим постмортем-анализ инцидентов для предотвращения повторений, кстати, страничку постмортема в Confluence написал я."

"Для аналитиков я создаю специальные дашборды в Grafana, включающие ключевые метрики производительности системы. Мы вместе анализируем тренды использования ресурсов и время реакции на инциденты. Например, благодаря таким анализам мы оптимизировали использование RAM на 25% в peak-time."

"Участвую в еженедельных встречах, где координирую действия между командами DevOps, разработчиков и администраторов. Внедрили общую систему мониторинга через Prometheus, которая позволяет всем командам видеть актуальное состояние инфраструктуры. При аварийных ситуациях организуем Zoom встречи для быстрого решения проблем."

"Участвую в еженедельной встрече по презентации мониторинга нашей платформы. Мы разрабатываем мониторинг для команд от дашбордов Grafana до оптимизации метрик Prometheus. Встреча проходит для команд нашего департамента. Я презентую в рельном времени, как работает связка мониторинга Grafana + Prometheus + Node Exporter, как работают метрики, пишу простые формулы на языке PromQL, после чего мне задают вопросы. Заинтересованные команды могут заказать у нас мониторинг через заявку в Jira. Далее к нам приходят команды и мы строим для них кастомный мониторинг на экспортерах."

---

### 2. **Распорядок дня**
- Каждый день начинается со встречи (с дейлика: daily stand-up) с начальством (руководитель основной и тимлид) и командой ([Корпорация: Инструменты корпорации](https://teletype.in/@lamjob/JHJK3FHMdS5)).
- На этой встрече мы обсуждаем текущие инциденты, задачи на день, а также прогресс по внедрению новых релизов.
- Тимлид ведет опрос каждого инженера и назначает новые задачи, спрашивает о текущих активностях и задачах подробно каждого (переодически тимлида перебивает главный рук и вбрасывает свои вопросы и реплики).
- Дейлик идет от 30 минут до часа - дальше все расходятся: команда частично на фулл удаленке и частично на гибриде (частично Москва, частично Нижний, частично Самара).
- После дейлика я проверяю дашборды в Grafana, чтобы убедиться, что все метрики в пределах нормы.
- Если есть какие-либо аномалии или инциденты, я сразу же начинаю их расследование.

**Основные задачи дня:**
- Мониторинг состояния систем через Prometheus и Grafana:
   - Обращаю внимание на анамалии, если есть: просадка трафика, перезапуск подов (контейнеров), проверка бизнесовых ошибок (это те ошибки которые выдают наши приложения, к примеру, на кредитном конвейере), проверка сервисов, написанных на Java/Kotlin)).
- Решение инцидентов, которые могут возникнуть в процессе работы:
   - Я собираю или свою встречу по ссылке в Zoom (для Сбера - это только Jazz или просто говорим, что по "нашей ссылке") или идем в аварийку (по ссылке) и решаем совместно инцидент.
- Подготовка и внедрение релизов через CI/CD-пайплайны совместно с администраторами:
   - К примеру вы готовили задачи в Jira, заполняли необходимые поля и планировали работы:
      - Дата проведения, какие команды, соответствующие документы и согласования если нужны.
   - Вы написали конфиг Nginx на балансировку x3 Mimir.
   - Описывали последовательность шагов в документации ко внедрению и на совместной встрече с администраторами раскатывали этот конфиг через джобу Teamcity/Jenkins.
   - Вы просто должны знать, что Teamcity - это инструмент CI/CD, но на собеседовании можете говорить о нём смело, что за раскатку уже отвечали админы.
   - Внимание! На вашем рабочем проекте может быть только один инструмент: или это Teamcity или это только Jenkins, если же вы оговорились в процессе собеседования, то смело вбрасываем собеседующим, что вы работаете на платформе DEV - это среда и сопровождение отдела по разработке и у вас были развязаны руки и вы ставили, что хотели, какое угодно ПО, и у вас был Teamcity, а у администраторов на ПРОД-контуре был Jenkins - всё просто.
- Взаимодействие с разработчиками для устранения проблем в коде.
- Участие в конференциях (во встречах) по оптимизации инфраструктуры:
   - Еженедельные встречи где выступают тимлиды от всех команд: админы, разработка, сопровождение:
      - Там регулярно обсуждаются вопросы об улучшении нашей платформы.

---

### 3. **Стек отдела**

Если на собеседовании вы чувствуете, что вас долбят вопросами по стеку, то отвечайте спокойно, что Terraform и Ansible вы использовали совместно с командой администраторов, писали конфиги, участвовали во внедрениях с помощью этих инструментов (если успеваете пройти эти инструменты по курсу, то отвечаем, что использовали вы сами). Потому что на данном этапе вы еще не работали с Docker, Terraform и Ansible и я это понимаю. Но в целом методология вполне рабочая и применимая.

Наш отдел использует следующий стек технологий (внимание, если вы указываете этот стек в резюме, то от каждого инструмента, даже если вы с ним работали поверхностно слова должны отскакивать, как от зубов, хотя бы в трех предложениях, как минимум, учитесь импровизировать на ходу):

**Язык программирования (язык бэкенда):**
- **Java**: Кредитный конвейер (наша платформа), адаптеры (кредитная платформа разбитая на микросервисы).

**ОС:**
- **Debian**: Используется в разрезе стенда DEV в качестве песочницы.
- **CentOS**: Основная операционная система для серверов.

**Серверы:**
- **Nginx**: Балансировка нагрузки и проксирование трафика.
- **Kubernetes (k8s)**: Оркестрация контейнеров.

**Хранилище/Репозиторий:**
- **MinIO**: Это высокопроизводительное распределенное объектное хранилище, совместимое с Amazon S3 API.
- **Nexus**: Это менеджер репозиториев, используется для управления артефактами (например, JAR-файлами, Docker-образами, npm-пакетами).

**Контроль версий:**
- **Git:** Система контроля версий, которая позволяет нескольким разработчикам одновременно работать над одним продуктом.
- **Bitbucket:** Веб-сервис для хостинга проектов и их совместной разработки, основанный на системе контроля версий Git.

**Мониторинг:**
- **Grafana**: Для визуализации метрик и создания дашбордов.
- **Prometheus**: Для сбора метрик с серверов и приложений.
- **Mimir**: Используется в качестве бэкенда для Prometheus, предоставляя распределенное решение для долгосрочного хранения и анализа метрик.
- **Alertmanager**: Алертинг, уведомления.
- **Node Exporter**: Для мониторинга состояния серверов (RAM, CPU, HDD).
- **Blackbox Exporter**: Для проверки доступности сервисов (HTTP, TCP, ICMP).
- **Nginx Exporter**: Для мониторинга производительности Nginx.
- **Process Exporter**: Мониторинг процессов на серверах (/proc).
- **Postgres Exporter**: Для мониторинга баз данных PostgreSQL.

**Поиск/Индексация:**
- **Elastic Stack (ELK)**:
- **Elasticsearch**:	Хранение, поиск и анализ данных (NoSQL-движок).
- **Logstash**:	Обработка и трансформация данных (например, парсинг логов).
- **Kibana**:	Дашборды, графики, анализ данных.
- **Beats**:	Легковесные агенты для сбора данных (Filebeat, Metricbeat и др.).

**CI/CD и автоматизация:**
- **TeamCity**: Автоматизация сборки и тестирования.
- **Ansible**: Конфигурационное управление.
- **Docker**: Контейнеризация приложений.
- **Terraform**: Управление инфраструктурой как кодом.
- **Bash**: Развертывание приложений на серверах, написание кастомных решений.


